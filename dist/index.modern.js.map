{"version":3,"file":"index.modern.js","sources":["../src/canvas/CanvasFunctions.js","../src/canvas/Canvases.js","../src/inputs/NumberInput.js","../src/inputs/HexInput.js","../src/ColorPicker_.js","../src/index.js"],"sourcesContent":["import Color from \"cpg-color/Color\";\r\nexport const getScaler = () => window.innerWidth > 500 ? 1 :  window.innerWidth >340 ? 0.75: window.innerWidth > 300? 0.6 : 0.55 //window.innerWidth / 2400 : 1\r\nexport const getScaledHueWidth = () => 360 * getScaler()\r\nexport const getScaledHeight = () => 200 * getScaler()\r\nexport const getMainCanvas = (id) => (document.getElementById(\"main-canvas-color-picker\"+id))\r\nexport const getSaturationCanvas = (id) => (document.getElementById(\"saturation-canvas-color-picker\"+id))\r\n\r\nexport const drawHueCanvas = (baseColor, id) => {\r\n    let scaler = getScaler()\r\n    let sat = baseColor.hsl.sat;\r\n    let canvas = getMainCanvas(id)\r\n    let ctx = canvas.getContext(\"2d\");\r\n    let scaledWidth = getScaledHueWidth()\r\n    let scaledHeight = getScaledHeight()\r\n    canvas.setAttribute(\"width\", scaledWidth)\r\n    canvas.setAttribute(\"height\", scaledHeight)\r\n    for (let i = 0; i < scaledWidth; i += scaler) {\r\n        var gradient = ctx.createLinearGradient(i, 0, i, scaledHeight);\r\n        let scaledBackHue = Math.round(i * 360 / scaledWidth)\r\n        gradient.addColorStop(0, \"hsl(\" + scaledBackHue + \",\" + sat + \"%,0%)\");\r\n        gradient.addColorStop(0.5, \"hsl(\" + scaledBackHue + \",\" + sat + \"%,50%)\");\r\n        gradient.addColorStop(1, \"hsl(\" + scaledBackHue + \",\" + sat + \"%,100%)\");\r\n        ctx.fillStyle = gradient;\r\n        ctx.fillRect(i, 0, i, scaledHeight);\r\n    }\r\n    setSaturationPickerStyle(baseColor, id)\r\n}\r\n\r\nexport const drawSaturationCanvas = (baseColor, id) => {\r\n    let scaler = getScaler()\r\n    let hue = baseColor.hsl.hue;\r\n    let light = baseColor.hsl.light;\r\n    let canvas = getSaturationCanvas(id)\r\n    let scaledHeight = getScaledHeight()\r\n    canvas.setAttribute(\"height\", scaledHeight)\r\n    let ctx = canvas.getContext(\"2d\");\r\n    for (let j = 0; j < 202 * scaler; j += 2) {\r\n        let scaledBackSat = Math.round(j * 200 / scaledHeight)\r\n        for (let i = 0; i < 10; i += 1) {\r\n            ctx.fillStyle = \"hsl(\" + hue + \", \" + scaledBackSat / 2 + \"%, \" + light + \"%)\";\r\n            ctx.fillRect(i, j, i, j + 2);\r\n        }\r\n    }\r\n    setHuePickerStyle(baseColor, id)\r\n}\r\n\r\nconst getValueAdjustedIntoBoundaries = (val, min, max) => val < min ? min : val > max ? max : val\r\n\r\nexport const getColorFromHueCanvas = (clientX, clientY, baseColor, id) => {\r\n    let rect = getMainCanvasRectangle(id)\r\n    let x = clientX - rect.left;\r\n    let y = clientY - rect.top;\r\n    let scaledBackX = Math.round(x * 360 / getScaledHueWidth())\r\n    let scaledBackY = Math.round(y * 200 / getScaledHeight())\r\n    // when mouse is out of canvas but is down\r\n    scaledBackX = getValueAdjustedIntoBoundaries(scaledBackX, 0, 360)\r\n    scaledBackY = getValueAdjustedIntoBoundaries(scaledBackY, 0, 200)\r\n    let hue = Math.round(scaledBackX);\r\n    let sat = baseColor.hsl.sat;\r\n    let light = Math.round(scaledBackY / 2);\r\n    let color = new Color({hue, sat, light}, \"HSL\");\r\n    return color\r\n}\r\n\r\nexport const getColorFromSaturationCanvas = (clientY, baseColor, id) => {\r\n    let rect = getSaturationCanvasRectangle(id)\r\n    let y = clientY - rect.top;\r\n    let scaledBackY = Math.round(y * 200 / getScaledHeight())\r\n    // when mouse is out of canvas but is down\r\n    scaledBackY = getValueAdjustedIntoBoundaries(scaledBackY, 0, 200)\r\n    let { hue, light } = baseColor.hsl;\r\n    let sat = Math.round(scaledBackY / 2);\r\n    let color = new Color({hue, sat, light}, \"HSL\");\r\n    return color\r\n}\r\n\r\nlet setHuePickerStyle = (color, id) => {\r\n    let circle = document.getElementById('pickerCircle'+id)\r\n    let scaler = getScaler()\r\n    let scaledPositionTop = (color.hsl.light * 2) * scaler - 8\r\n    circle.style.marginTop = scaledPositionTop + \"px\"\r\n    let scaledPositionLeft = (color.hsl.hue) * scaler - 8\r\n    circle.style.marginLeft = scaledPositionLeft + \"px\"\r\n}\r\n\r\nlet setSaturationPickerStyle = (color, id) => {\r\n    let circle = document.getElementById('saturationCircle'+id)\r\n    let scaledPositionTop = (color.hsl.sat * 2) * getScaler() - 3.5\r\n    circle.style.marginTop = scaledPositionTop + \"px\"\r\n}\r\n\r\nexport const getMainCanvasRectangle = (id) =>\r\n    (getMainCanvas(id).getBoundingClientRect())\r\n\r\nexport const getSaturationCanvasRectangle = (id) =>\r\n    (getSaturationCanvas(id).getBoundingClientRect())","import React, { useState, useEffect } from 'react';\r\nimport { drawHueCanvas, drawSaturationCanvas, getColorFromSaturationCanvas, getColorFromHueCanvas, getScaledHueWidth } from './CanvasFunctions'\r\nimport styles from './ColorPickerCanvas.module.css'\r\n\r\nconst mouseEventAttributes = {onMove: \"mousemove\", onEnd: \"mouseup\", getX: (evt) => evt.clientX, getY: (evt) => evt.clientY}\r\nconst touchEventAttributes = {onMove: \"touchmove\", onEnd: \"touchend\", getX: (evt) => evt.touches[0].clientX, getY: (evt) => evt.touches[0].clientY}\r\n\r\nexport default function Canases(props) {\r\n\r\n    const [mounted, setMounted] = useState(false);\r\n    const id = props.id\r\n    const baseColor = props.baseColor\r\n    const onChange = props.onChange\r\n\r\n    useEffect(() => {\r\n        if(!mounted){\r\n            drawHueCanvas(baseColor, id);\r\n            drawSaturationCanvas(baseColor, id);\r\n            setMounted(true)\r\n        }\r\n    })\r\n\r\n    // Common for both canvases\r\n    const handleCanvasStart = (evt, eventAttributes, setColor) => {\r\n        const {onMove, onEnd, getX, getY} = eventAttributes\r\n        setColor(getX(evt), getY(evt)); \r\n        setColorChangeEventListeners(onMove, onEnd, (evt) => setColor(getX(evt), getY(evt)))\r\n    }\r\n    const setColorChangeEventListeners = (onMove, onEnd, handleColorChange) => {\r\n        window.addEventListener(onMove, handleColorChange)\r\n        window.addEventListener(onEnd, () => { window.removeEventListener(onMove, handleColorChange)}, {once: true});\r\n    }\r\n\r\n    // Main Canvas events\r\n    const handleMouseDownMain = evt => setMainCanvasDown(evt, mouseEventAttributes)\r\n    const handleTouchStartMain = evt => setMainCanvasDown(evt, touchEventAttributes)\r\n\r\n    const setMainCanvasDown = (evt, eventAttributes) => handleCanvasStart(evt, eventAttributes, setColorFromMainCanvas)\r\n\r\n    const setColorFromMainCanvas = (x, y) => {\r\n        let color = getColorFromHueCanvas(x, y, baseColor, id)\r\n        onChange(color);\r\n        drawSaturationCanvas(color, id);\r\n    };\r\n\r\n    // Saturation Canvas events\r\n    const handleMouseDownSat = evt => setSatCanvasDown(evt, mouseEventAttributes)\r\n    const handleTouchStartSat = evt => setSatCanvasDown(evt, touchEventAttributes)\r\n    \r\n    const setSatCanvasDown = (evt, eventAttributes) => handleCanvasStart(evt, eventAttributes, setColorFromSatCanvas)\r\n\r\n    const setColorFromSatCanvas = (x, y) => {\r\n        let color = getColorFromSaturationCanvas(y, baseColor, id)\r\n        onChange(color);\r\n        drawHueCanvas(color, id);\r\n    };\r\n\r\n    return (\r\n            <div id={\"canvases-container\" + id}>\r\n                <div>\r\n                    <div id={\"pickerCircle\" + id} style={{ borderColor: baseColor.hsl.light > 50 ? \"#757575\" : \"white\", backgroundColor: baseColor.HEXString }} />\r\n                    <canvas height=\"200\" width={getScaledHueWidth()} id={\"main-canvas-color-picker\" + id} onMouseDown={handleMouseDownMain} onTouchStart={handleTouchStartMain}/>\r\n                </div>\r\n\r\n                <div className={styles[\"saturation-canvas\"]} onMouseDown={handleMouseDownSat} onTouchStart={handleTouchStartSat}>\r\n                    <div id={\"saturationCircle\" + id} style={{ backgroundColor: baseColor.HEXString}} />\r\n                    <canvas id={\"saturation-canvas-color-picker\" + id} height=\"200\" width=\"10\" />\r\n                </div>\r\n            </div>\r\n        );   \r\n}","import React, { useState } from \"react\";\r\nimport styles from '../ColorPicker.module.css'\r\nexport default function NumberInput(props) {\r\n  \r\n  const [localValue, setLocalValue] =  useState(props.value);\r\n  const [focused, setFocused] =  useState(false);\r\n\r\n\r\n  const handleInputChange = evt => {\r\n    let newValue = evt.target.value\r\n    if (newValue >=0 && newValue <= props.max)\r\n      props.onChange(newValue)\r\n    setLocalValue(newValue)\r\n  }\r\n  const handleOnBlur = evt => {\r\n    handleInputChange(evt)\r\n    setLocalValue(props.value)\r\n    setFocused(false)\r\n  }\r\n  const handleOnFocus = () => {\r\n    setLocalValue(props.value)\r\n    setFocused(true)\r\n  }\r\n\r\nreturn(\r\n  <div>\r\n    <span className={styles[\"color-picker-input-label\"]}>{props.id}: </span>\r\n\r\n    <input\r\n      value = {focused? localValue : props.value}\r\n      onChange = {handleInputChange}\r\n      onFocus = {handleOnFocus}\r\n      onBlur = {handleOnBlur}\r\n      type=\"number\"\r\n      id={props.id}\r\n      min=\"0\"\r\n      max={props.max}\r\n      className={props.className + \" \" + styles[\"color-picker-input\"]}\r\n\r\n    />\r\n  </div>\r\n)\r\n}\r\n\r\n","\r\nimport React, { useState } from \"react\";\r\nimport styles from '../ColorPicker.module.css'\r\n\r\nexport default function HexInput(props) {\r\n\r\n  const [localValue, setLocalValue] =  useState(props.value);\r\n  const [focused, setFocused] =  useState(false);\r\n\r\n  const handleInputChange = evt => {\r\n    let newValue = evt.target.value\r\n      if (newValue.length == 6 || newValue.length == 3 ) {\r\n      \r\n        var re = /^[0-9A-Fa-f]+$/g;\r\n        \r\n        if (re.test(newValue)) {\r\n          props.onChange(newValue)\r\n        }\r\n      }\r\n    setLocalValue(newValue)\r\n  }\r\n  const handleOnBlur = evt => {\r\n    handleInputChange(evt)\r\n    setLocalValue(props.value)\r\n    setFocused(false)\r\n  }\r\n  const handleOnFocus = () => {\r\n    setLocalValue(props.value)\r\n    setFocused(true)\r\n  }\r\n\r\nreturn(\r\n  <div className={styles[\"hex-input\"]}>\r\n    <span className={styles[\"color-picker-input-label-hex\"]}>Hex: # </span>\r\n    <input\r\n      id={'hex-input-txt-box'+props.id} \r\n      value = {focused ? localValue : props.value}\r\n      onChange={handleInputChange}\r\n      onFocus = {handleOnFocus}      \r\n      onBlur = {handleOnBlur}\r\n      className={props.className + \" \" + styles[\"color-picker-input\"]}\r\n    />\r\n  </div>\r\n)\r\n}\r\n","\r\nimport React from \"react\";\r\nimport Color from \"cpg-color/Color\";\r\nimport styles from './ColorPicker.module.css'\r\nimport Canvases from './canvas/Canvases'\r\nimport { drawHueCanvas, drawSaturationCanvas } from './canvas/CanvasFunctions'\r\nimport NumberInput from \"./inputs/NumberInput\";\r\nimport HexInput from \"./inputs/HexInput\";\r\n\r\nconst HUE = \"hue\", SAT = \"sat\", LIGHT = \"light\", R = \"r\", G = \"g\", B = \"b\"\r\nconst schemes = Object.freeze({HSL:{ name: \"HSL\", mainKey: 'hsl'}, RGB: { name: \"RGB\", mainKey: 'rgb'}})\r\n\r\nexport default function ColorPicker_(props) {\r\n  \r\n  const baseColor = props.baseColor\r\n  const onChange = props.onChange\r\n  const id = props.id\r\n  let getNumberInput = (id, max, value, onChange) => <NumberInput id = {id} max = {max} value = {value} onChange = {onChange} className={styles[\"number-input\"]} key={id}/>\r\n\r\n  let handleFormInput = color => {\r\n    onChange(color);\r\n    drawHueCanvas(color, id);\r\n    drawSaturationCanvas(color, id);\r\n  };\r\n\r\n  // INPUT HANDLERS\r\n  let setFromNumeric = (value, scheme, keyToChange) => {\r\n    let schemeDict = Object.assign({}, baseColor[scheme.mainKey]) \r\n    schemeDict[keyToChange] = value\r\n    handleFormInput(new Color(schemeDict, scheme.name))\r\n  }\r\n\r\n  const { hue, sat, light } = baseColor.hsl\r\n  const { r, g, b } = baseColor.rgb\r\n  let hexString = baseColor.HEXString;\r\n  let hexValue = hexString.substring(1)\r\n  let hslInputs = [['H', 359, hue, schemes.HSL, HUE], ['S',100, sat, schemes.HSL, SAT], ['L', 100, light, schemes.HSL, LIGHT]]\r\n  let rgbInputs = [['R',255, r, schemes.RGB, R],['G',255, g, schemes.RGB, G],['B',255,b, schemes.RGB, B]]\r\n\r\n  let getInputs = (inputs, onChange) => <div className={styles[\"input-boxes\"]}> {inputs.map(options => getNumberInput( ...options.slice(0, 3), (val) => onChange(val, ...options.slice(3, 5)) ))} </div>\r\n\r\n  return (\r\n    <div id={\"color-picker-\" + id} className={props.className}>\r\n      <Canvases onChange={onChange} baseColor={baseColor} id={id} />\r\n\r\n      <div id={\"color-inputs-container-\"+ id}>\r\n\r\n          {getInputs(hslInputs, setFromNumeric)}\r\n          {getInputs(rgbInputs, setFromNumeric)}\r\n\r\n          <div className={styles[\"hex-and-square-inputs\"]} >\r\n            <HexInput id ={id} value={hexValue} onChange={(val)=>handleFormInput(new Color('#' + val, \"HEX\"))}  />\r\n            <div id={'picked-color'+ id} style={{ backgroundColor: hexString }} />\r\n          </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n  }\r\n","import React from 'react'\nimport styles from './styles.css'\nimport ColorPicker_ from './ColorPicker_'\n\nexport const ColorPicker = ({ baseColor, onChange, id, className }) => {\n  return <ColorPicker_ baseColor = {baseColor} onChange = {onChange} id={id} className={className}/>\n}\n"],"names":["getScaler","window","innerWidth","getScaledHueWidth","getScaledHeight","getMainCanvas","id","document","getElementById","getSaturationCanvas","drawHueCanvas","baseColor","scaler","sat","hsl","canvas","ctx","getContext","scaledWidth","scaledHeight","setAttribute","i","gradient","createLinearGradient","scaledBackHue","Math","round","addColorStop","fillStyle","fillRect","setSaturationPickerStyle","drawSaturationCanvas","hue","light","j","scaledBackSat","setHuePickerStyle","getValueAdjustedIntoBoundaries","val","min","max","getColorFromHueCanvas","clientX","clientY","rect","getMainCanvasRectangle","x","left","y","top","scaledBackX","scaledBackY","color","Color","getColorFromSaturationCanvas","getSaturationCanvasRectangle","circle","scaledPositionTop","style","marginTop","scaledPositionLeft","marginLeft","getBoundingClientRect","mouseEventAttributes","onMove","onEnd","getX","evt","getY","touchEventAttributes","touches","Canases","props","useState","mounted","setMounted","onChange","useEffect","handleCanvasStart","eventAttributes","setColor","setColorChangeEventListeners","handleColorChange","addEventListener","removeEventListener","once","handleMouseDownMain","setMainCanvasDown","handleTouchStartMain","setColorFromMainCanvas","handleMouseDownSat","setSatCanvasDown","handleTouchStartSat","setColorFromSatCanvas","borderColor","backgroundColor","HEXString","styles","NumberInput","value","localValue","setLocalValue","focused","setFocused","handleInputChange","newValue","target","handleOnBlur","handleOnFocus","className","HexInput","length","re","test","HUE","SAT","LIGHT","R","G","B","schemes","Object","freeze","HSL","name","mainKey","RGB","ColorPicker_","getNumberInput","handleFormInput","setFromNumeric","scheme","keyToChange","schemeDict","assign","rgb","r","g","b","hexString","hexValue","substring","hslInputs","rgbInputs","getInputs","inputs","map","options","slice","Canvases","ColorPicker"],"mappings":"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"}